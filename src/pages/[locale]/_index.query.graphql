#import '@blocks/EmbedBlock/EmbedBlock.fragment.graphql'
#import '@blocks/ImageBlock/ImageBlock.fragment.graphql'
#import '@blocks/TableBlock/TableBlock.fragment.graphql'
#import '@blocks/TextBlock/TextBlock.fragment.graphql'
#import '@blocks/VideoEmbedBlock/VideoEmbedBlock.fragment.graphql'

fragment MemberLogo on MemberRecord {
  logo {
    id
    url(imgixParams: { w: 200 })
    alt
  }
  brandColor {
    hex
  }
}

query HomePage($locale: SiteLocale!) {
  page: homePage(locale: $locale) {
    title
    _seoMetaTags {
      attributes
      content
      tag
    }
    bodyBlocks {
      __typename
      ... on EmbedBlockRecord {
        ...EmbedBlock
      }
      ... on ImageBlockRecord {
        ...ImageBlock
      }
      ... on TableBlockRecord {
        ...TableBlock
      }
      ... on TextBlockRecord {
        ...TextBlock
      }
      ... on VideoEmbedBlockRecord {
        ...VideoEmbedBlock
      }
    }
  }
  # TODO: make this more random
  membersLeft: allMembers(first: 8) {
    ...MemberLogo
  }
  # TODO: make this more random
  membersRight: allMembers(first: 8) {
    ...MemberLogo
  }
}
